# å„ç§ç±»å‹çš„è®²è§£

------

### ç±»å‹æ¨è®º

TSä¸­ï¼Œå¦‚æœä¸€ä¸ªå˜é‡åœ¨å®šä¹‰çš„æ—¶å€™æ²¡æœ‰æŒ‡å®šç±»å‹ï¼Œä¸ç®¡å®ƒä¹‹åä¼šä¸ä¼šæŒ‡å®šç±»å‹ï¼Œéƒ½ä¼šä»¥`any`ç±»å‹æ¥å¤„ç†,ä¸ä¼šè¢«ç±»å‹æ£€æŸ¥ã€‚

```typescript
let myFavoriteNumber;
myFavoriteNumber = 'seven';
myFavoriteNumber = 7;
```

### è”åˆç±»å‹

åœ¨å˜é‡å£°æ˜çš„æ—¶å€™å…è®¸è¿™ä¸ªå˜é‡å¯ä»¥ä½¿ç”¨å£°æ˜çš„ç±»å‹ä¸­çš„ä¸€ç§

ä¸€ä¸ªç®€å•çš„ğŸŒ°ï¼š

```typescript
let myFavoriteNumber: string | number; 
myFavoriteNumber = 'seven';
myFavoriteNumber = 7;
```

åœ¨æ²¡æœ‰æ˜ç¡®è”åˆå˜é‡èµ‹å€¼ä¹‹å‰:

â€‹		TSä¼šæ ¹æ®ç±»å‹æ¨è®ºï¼Œåˆ¤æ–­å˜é‡çš„ç±»å‹ï¼›

â€‹		åªèƒ½è®¿é—®è”åˆå˜é‡çš„å…±æœ‰å±æ€§æˆ–è€…æ–¹æ³•ï¼›

è”åˆç±»å‹çš„å˜é‡è¢«èµ‹å€¼ä¹‹åï¼ŒTSä¼šæ ¹æ®ç±»å‹æ¨è®ºå‡ºä¸€ä¸ªç±»å‹ï¼š

```typescript
let myFavoriteNumber: string | number;
myFavoriteNumber = 'seven';
console.log(myFavoriteNumber.length); // 5
myFavoriteNumber = 7;
console.log(myFavoriteNumber.length); // ç¼–è¯‘æ—¶æŠ¥é”™
//ç¼–è¯‘æŠ¥é”™æ˜¯å› ä¸ºè¯¥å˜é‡ä¸€å®šå®šä¹‰æˆä¸€ä¸ªnumberç±»å‹ï¼Œæ‰€ä»¥è®¿é—®lengthä¼šæŠ¥é”™
// index.ts(5,30): error TS2339: Property 'length' does not exist on type 'number'.
```

### å¯¹è±¡çš„ç±»å‹â€”æ¥å£(`interface`)

TSä¸­çš„æ¥å£ï¼Œä¸ä»…å¯ä»¥å¯¹ç±»çš„ä¸€éƒ¨åˆ†è¡Œä¸ºè¿›è¡Œæè¿°ï¼Œä¹Ÿå¯ä»¥å®šä¹‰å¯¹è±¡çš„å†…å®¹

ä¸¾ä¸ªğŸŒ°ï¼š

```typescript
interface Dog{
	name: string;
  kind: string;
  age:  number
}

let dogï¼šDog = {
  name:'æœ¨æœ¨',
  kind:'æ†¨æ‰¹',
  age: 22
}ï¼›
```

å¯é€‰å±æ€§ï¼š

```typescript
interface Dog{
	name: string;
  kind: string;
  age?:  number
}

let dogï¼šDog = {
  name:'æœ¨æœ¨',
  kind:'æ†¨æ‰¹',
  age: 22
}ï¼›
```

ä»»æ„å±æ€§ï¼šå…³é”®å­—`[propName: string]`

å®šä¹‰äº†ä»»æ„å±æ€§ä¹‹åï¼Œé‚£ä¹ˆä¹‹å‰çš„ç¡®å®šå±æ€§å’Œå¯é€‰å±æ€§éƒ½å¿…é¡»æ˜¯ä»»æ„å±æ€§çš„å­ç±»

ğŸŒ°ï¼š

```typescript
interface Person {
    name: string;
    age?: number;
    [propName: string]: string;
}

let tom: Person = {
    name: 'Tom',
    age: 25,
    gender: 'male'
};

// index.ts(3,5): error TS2411: Property 'age' of type 'number' is not assignable to string index type 'string'.
// index.ts(7,5): error TS2322: Type '{ [x: string]: string | number; name: string; age: number; gender: string; }' is not assignable to type 'Person'.
//   Index signatures are incompatible.
//     Type 'string | number' is not assignable to type 'string'.
//       Type 'number' is not assignable to type 'string'.
```

ä¸€ä¸ªæ¥å£ä¸­åªèƒ½å®šä¹‰ä¸€ä¸ªä»»æ„å±æ€§ã€‚å¦‚æœæ¥å£ä¸­æœ‰å¤šä¸ªç±»å‹çš„å±æ€§ï¼Œåˆ™å¯ä»¥åœ¨ä»»æ„å±æ€§ä¸­ä½¿ç”¨è”åˆç±»å‹ï¼š

```typescript
interface Person {
    name: string;
    age?: number;
    [propName: string]: string | number;
  //ä¹Ÿå¯ä»¥ä½¿ç”¨`any`
}

let tom: Person = {
    name: 'Tom',
    age: 25,
    gender: 'male'
};
```

åªè¯»å±æ€§ï¼š`readonly`

æˆ‘ä»¬å¯ä»¥å®šä¹‰å¯¹è±¡çš„ä¸€äº›å±æ€§åªèƒ½åœ¨è¢«åˆ›å»ºæ—¶ä½¿ç”¨ï¼Œå¯ä»¥åˆ©ç”¨`readonly`æ¥è§£å†³

```typescript
interface Person {
    readonly id: number;
    name: string;
    age?: number;
    [propName: string]: any;
}

let tom: Person = {
    id: 89757,
    name: 'Tom',
    gender: 'male'
};
console.log(tom)
//è¾“å‡ºï¼š{ id: 89757, name: 'Tom', gender: 'male' }
```

